<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz zu ALEXAN - Das Geheimnis von Mystiko - Die Legende der Drei Artefakte</title>
<!-- Verlinkung zur zentralen CSS-Datei f√ºr das Layout -->
<link rel="stylesheet" href="style.css">
<style>
    /* Interne Styles zur Anpassung des Quiz-Designs an die allgemeine √Ñsthetik */
    /* body und #quiz-container werden durch .container und style.css gestylt */

    /* Container-Elemente und √úberschriften an den allgemeinen Stil anpassen */
    #quiz-container { 
        padding: 30px; 
    }
    h1, h2 { 
        text-align: center; 
        color: #004d40; /* Dunkles Teal */
    }
    /* H1 verwendet den Stil der Hauptseite */
    h1 {
        font-size: 20pt;
        border-bottom: 3px solid #004d40;
        padding-bottom: 10px;
        margin-bottom: 30px;
    }
    
    .question { 
        margin-bottom: 20px; 
        font-size: 14pt;
        font-weight: bold;
    }
    
    /* Styling f√ºr die Antwort-Optionen */
    .answers label { 
        display: block; 
        margin-bottom: 12px; 
        cursor: pointer; 
        padding: 10px;
        border-radius: 5px;
        border: 1px solid #ddd;
        transition: background-color 0.2s, border-color 0.2s;
        font-weight: normal;
        font-size: 12pt;
    }
    .answers label:hover { 
        background-color: #e0f7fa; /* Heller T√ºrkis-Hintergrund bei Hover */
        border-color: #004d40;
    }
    
    input[type="radio"] { 
        margin-right: 12px; 
        transform: scale(1.2); 
        vertical-align: middle; 
    }
    
    /* Anpassen des "Weiter"-Buttons, um die blaue .quiz-button Klasse zu verwenden */
    #next-btn { 
        display: block; 
        width: 100%; 
        margin-top: 25px;
        /* Die Farbe wird durch die Klasse .quiz-button in style.css auf Blau gesetzt */
    }

    #result { 
        margin-top: 30px; 
        text-align: center; 
    }
    
    /* Styling f√ºr die Buttons am Ende des Quiz */
    .end-screen-buttons { 
        margin-top: 30px; 
        display: flex; 
        justify-content: center; 
        gap: 20px; 
    }
    
    /* Spezielles Styling f√ºr den Neustart-Button (Teal als Akzentfarbe) */
    .restart-button {
        background-color: #004d40 !important; /* Teal */
        color: white !important;
    }
    
    /* Allgemeine Anpassung des Quiz-Buttons (aus style.css) */
    .quiz-button {
        text-decoration: none; /* Wichtig f√ºr den <a>-Tag */
    }

</style>
</head>
<body>
<main class="container">
    <div id="quiz-container">
        <h1>Quiz zu ALEXAN - Das Geheimnis von Mystiko - Die Legende der Drei Artefakte</h1>
        <h2>Hallo mutiger Held! Viel Erfolg beim Quiz! üòä</h2>
        <div id="question-area"></div>
        <!-- Button verwendet die zentrale Klasse f√ºr das blaue Styling -->
        <button id="next-btn" class="quiz-button" disabled>Weiter</button>
        <div id="result"></div>
    </div>
</main>
<script>
const questions = [
    { q: "Wer ist Meridan?", a: ["Ein Bandit", "Ein Schmied", "Der H√ºter des Wissens (Weiser)", "Prinzessins Leibw√§chter"], correct: 2 },
    { q: "Wie hei√üt die Elfin im Wald von Lunaria?", a: ["Lumelia", "Lyara", "Merida", "Ularia"], correct: 1 },
    { q: "Wer ist Riven am Anfang f√ºr Alexan?", a: ["Ein Fremder", "Ein Freund", "Sein Bruder", "Ein Lehrer"], correct: 0 },
    { q: "Welche Rolle hat Prinzessin Ayana?", a: ["H√ºterin des Lichts", "Herrscherin der Schatten", "K√∂nigin der Drachen", "Botin des Windes"], correct: 0 },
    { q: "Welches Wesen bewachte das magische Schild in Eldor?", a: ["Ein Riese", "Eine Wassernymphe", "Ein Feuerdrache", "Ein Steinw√§chter"], correct: 2 },
    { q: "In welcher Reihenfolge soll Alexan die Artefakte finden?", a: ["Schild, Schwert, Bogen", "Schwert, Schild, Bogen", "Bogen, Schwert, Schild", "Schwert, Bogen, Schild"], correct: 1 },
    { q: "Was geschieht mit dem Nebel, als Alexan das Kind f√ºhrt?", a: ["Der Nebel f√§rbt sich rot", "Der Nebel wird dichter", "Der Nebel verwandelt sich in Feuer", "Der Nebel zieht sich zur√ºck"], correct: 3 },
    { q: "Was erwartet Alexan im Wald von Lunaria?", a: ["Ein Dorf voller freundlicher Menschen", "Magische R√§tsel und Pr√ºfungen", "Ein Brunnen, der W√ºnsche erf√ºllt", "Eine H√∂hle voller Sch√§tze"], correct: 1 },
    { q: "Was passiert, als Alexan das Schwert findet?", a: ["Es singt", "Es verschwindet", "Es verwandelt sich", "Es leuchtet bl√§ulich auf"], correct: 3 },
    { q: "Was ist das besondere am Schild?", a: ["Es kann Schatten abwehren", "Es macht unsichtbar", "Es heilt Wunden", "Es verleiht Fl√ºgel"], correct: 0 },
    { q: "Was ist Rivens wahres dunkles Ich?", a: ["Ein b√∂ser Zauberer aus einem anderen Land", "Eine Verk√∂rperung seiner Zweifel", "Ein uralter Drache", "Ein Schattenwesen ohne Gestalt"], correct: 1 },
    { q: "Welches Artefakt nutzte Alexan, um die Geister in Xandor zu beruhigen?", a: ["Der Obsidianstein", "Der Feuerstein vom H√§ndler", "Der Handelssiegelstein", "Ein goldener Schl√ºssel"], correct: 0 },
    { q: "Wie verh√§lt sich Alexan in Gefahr?", a: ["Er rennt weg", "Er denkt nach und handelt mutig", "Er versteckt sich", "Er ruft immer um Hilfe"], correct: 1 },
    { q: "Was l√∂st Rivens Zorn aus?", a: ["Angst und Schmerz", "Der Verlust der Artefakte", "Ein altes Versprechen", "Ein Drache"], correct: 0 },
    { q: "Welche Farbe haben Rivens Augen, wenn er von der Finsternis beherrscht wird?", a: ["Blau", "Gr√ºn", "Rot", "Silber"], correct: 2 },
    { q: "Womit greift Riven Alexan im Kampf an?", a: ["Mit Pfeilen", "Mit d√§monischen Kr√§ften", "Mit Feuerb√§llen", "Mit einem Schwert"], correct: 1 },
    { q: "Welche Eigenschaft braucht Alexan, um die Pr√ºfungen im Heiligen Tempel der Erleuchtung zu bestehen?", a: ["Reichtum", "Schnelligkeit", "Magie", "Mut und Klugheit"], correct: 3 },
    { q: "Welches Schwert w√§hlt Alexan bei den Heiligen Pr√ºfungen in Lunaria?", a: ["Das goldene Schwert", "Das dunkle Schwert", "Das zerbrechliche Schwert", "Das kleine Schwert"], correct: 2 },
    { q: "Was passiert, wenn alle drei Artefakte vereint sind?", a: ["Das Licht kann die Finsternis besiegen", "Es √∂ffnet sich ein Portal", "Ein neuer Herrscher wird gekr√∂nt", "Sie verschwinden f√ºr immer"], correct: 0 },
    { q: "Wer bewahrt den m√§chtigen Kristall, als Alexan ihn nicht weitertragen will?", a: ["Lyara", "Der Dorf√§lteste", "Meridan (der Weise)", "Der Magier"], correct: 2 }
];
let currentQuestion = 0;
// F√ºllen Sie das Array mit null, um den Benutzerfortschritt zu speichern
const userAnswers = new Array(questions.length).fill(null); 
const questionArea = document.getElementById("question-area");
const nextBtn = document.getElementById("next-btn");
const resultDiv = document.getElementById("result");

function showQuestion(index) {
    nextBtn.disabled = true;
    const q = questions[index];
    let html = `<div class="question"><strong>Frage ${index+1} von ${questions.length}:</strong> ${q.q}</div><div class="answers">`;
    
    q.a.forEach((answer, i) => {
        // IDs und Name f√ºr Radio-Buttons verwenden
        const radioId = `q${index}_a${i}`;
        html += `<label for="${radioId}"><input type="radio" id="${radioId}" name="answer" value="${i}"> ${answer}</label>`;
    });
    
    html += `</div>`;
    questionArea.innerHTML = html;
    
    const radios = document.querySelectorAll('input[name="answer"]');
    
    radios.forEach(radio => {
        radio.addEventListener('change', () => {
            nextBtn.disabled = false;
            // Speichern der Antwort als Integer
            userAnswers[currentQuestion] = parseInt(radio.value);
        });
    });
    
    // Wiederherstellen der zuvor ausgew√§hlten Antwort
    if(userAnswers[currentQuestion] !== null) {
        radios.forEach(radio => {
            if(parseInt(radio.value) === userAnswers[currentQuestion]) {
                radio.checked = true;
                nextBtn.disabled = false;
            }
        });
    }
}

function showResult() {
    let correctCount = 0;
    questions.forEach((q, i) => {
        if(userAnswers[i] === q.correct) correctCount++;
    });
    const percent = Math.round((correctCount / questions.length) * 100);

    let resultHtml = `<h2>Dein Ergebnis:</h2>
                      <h3 style="color:#004d40;">${correctCount} von ${questions.length} richtig (${percent}%)</h3>`;

    if (percent >= 80) {
        resultHtml += `<h2 style="color:#008000;">BRAVO Tolle Leistung!</h2>`;
    } else if (percent >= 60) {
        resultHtml += `<h2 style="color:#ffa500;">Gute Leistung!</h2>`;
    } else {
        resultHtml += `<h2 style="color:#ff0000;">OK du musst es nochmals versuchen.</h2>`;
    }

    // Buttons f√ºr Neustart und Hauptseite hinzuf√ºgen
    resultHtml += `<div class="end-screen-buttons">
        <button onclick="restartQuiz()" class="quiz-button restart-button">Quiz Neustarten</button>
        <a href="index.html" class="quiz-button">Zur Hauptseite</a>
    </div>`;

    questionArea.innerHTML = "";
    nextBtn.style.display = "none";
    resultDiv.innerHTML = resultHtml;
}

function restartQuiz() {
    currentQuestion = 0;
    // Setzt alle Antworten auf null zur√ºck
    userAnswers.fill(null); 
    nextBtn.style.display = "block";
    resultDiv.innerHTML = "";
    // Beginnt das Quiz von vorne
    showQuestion(currentQuestion);
}

nextBtn.addEventListener("click", () => {
    currentQuestion++;
    if (currentQuestion < questions.length) {
        showQuestion(currentQuestion);
        resultDiv.innerHTML = "";
    } else {
        showResult();
    }
});

// Startet das Quiz beim Laden der Seite
showQuestion(currentQuestion);
</script>
</body>
</html>